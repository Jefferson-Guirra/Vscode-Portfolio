import Head from 'next/head'
import React from 'react'
import Input from '../components/forms/input'
import * as C from '../styles/Home'
import Clock from '../components/header/clock/Clock'
import { ClockProps } from '../protocols/clock'
import { BiUser } from 'react-icons/bi'
import Link from 'next/link'
import useForm from '../hooks/useForm'

export default function Home() {
  const password = useForm('password')
  const email = useForm('email')

  const clockProps: ClockProps = {
    language: 'pt-BR',
    dateTimeFormatOptions: {
      day: '2-digit',
      month: 'short',
      hour: '2-digit',
      minute: '2-digit',
    },
  }

  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {
    event.preventDefault()
    if (password.validate() && email.validate()) {
      console.log('campos corretos')
    }
  }

  return (
    <>
      <Head>
        <title>login</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <C.Container>
        <header>
          <Clock
            language={clockProps.language}
            dateTimeFormatOptions={clockProps.dateTimeFormatOptions}
          />
        </header>
        <article className="content-box">
          <div className="content">
            <span>
              <BiUser size={64} />
            </span>
            <form onSubmit={handleSubmit}>
              <Input type="email" name="email" placeHolder="email" {...email} />
              <Input
                type="password"
                name="password"
                placeHolder="senha"
                {...password}
              />
              <Link href="/user/create">criar conta</Link>
              <button>entrar</button>
            </form>
          </div>
        </article>
      </C.Container>
    </>
  )
}
